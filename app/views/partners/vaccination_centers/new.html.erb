<div class="container mt-5">
  <%= link_to icon("fas", "arrow-left", "Retour", class: "mr-1"), partners_vaccination_centers_path %>

  <h1>
    Demande de création d’un lieu de vaccination
  </h1>

  <p>
    La création d’un nouveau lieu de vaccination est
    <strong><u>réservé aux professionnels de santé assurant la vaccination</u></strong> :<br>
    membre d’un centre de vaccination, cabinet de médecine libérale, hôpital, pharmacie...
  </p>

  <p>
    Nous prendrons contact avec vous pour valider la création du lieu.
  </p>

  <div class="card card-theme mb-4">
    <div class="card-body">
      <% if @vaccination_center.persisted? %>
        <div class="alert alert-success mb-0">
          <p>
            Votre demande de création du lieu de vaccination <%= @vaccination_center.name %> a bien été enregistrée.
          </p>
          <p>
            Votre demande est en attente de validation par l'équipe Covidliste.
          </p>
          <p>
            Vous pourrez suivre l’état de la demande sur votre
             <%= link_to "espace professionnel de santé assurant la vaccination", partners_vaccination_centers_path %>.
          </p>
        </div>
      <% else %>
        <% if @vaccination_center.errors.present? %>
          <div class="alert alert-danger">
            <% @vaccination_center.errors.full_messages.each do |msg| %>
              <div><%= msg %></div>
            <% end %>
          </div>
        <% end %>

        <%= simple_form_for [:partners, @vaccination_center] do |f| %>
          <%= f.input :name, label: "Nom du lieu de vaccination", error: "Nom requis", placeholder: "Centre de vaccination Marseille", required: true %>
          <%= f.input :description, label: "Description", error: "Description requise", placeholder: "Description du lieu de vaccination", required: true %>
          <%= f.input :kind, label: "Type de lieu de vaccination", collection: VaccinationCenter::Kinds::ALL %>

          <p class="mt-2">
            Type(s) de vaccins disponibles
          </p>

          <%= f.input :pfizer, as: :boolean, label: Vaccine::Brands::PFIZER.capitalize, checked_value: true, unchecked_value: false, class: "form-check-inline" %>
          <%= f.input :moderna, as: :boolean, label: Vaccine::Brands::MODERNA.capitalize, checked_value: true, unchecked_value: false, class: "form-check-inline" %>
          <%= f.input :astrazeneca, as: :boolean, label: Vaccine::Brands::ASTRAZENECA.capitalize, checked_value: true, unchecked_value: false, class: "form-check-inline" %>
          <%= f.input :janssen, as: :boolean, label: Vaccine::Brands::JANSSEN.capitalize, checked_value: true, unchecked_value: false %>
          <%= f.input :address, label: "Adresse", error: "Adresse requise", placeholder: "5 rue Larue, 13600 Marseille", required: true %>
          <%= f.input :phone_number, label: "Numéro de téléphone", error: "Numéro de téléphone requis", placeholder: "06 06 06 06 06", required: true %>
          <%= f.button :submit, "Envoyer la demande", class: "btn btn-primary", data: { disable_with: "Validation..." } %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
